# RentCar Database

**"RentCar Database"** 는 차량 대여 서비스를 운영하는 기업을 위한 통합 데이터베이스 시스템입니다.
차량, 고객, 대여, 결제 등 핵심 데이터를 구조화하여 관리하고 고성능·고가용성 기반의 서비스를 제공하는 것을 목표로 합니다.

## 1. 프로젝트 개요

### ⭐️ 주요 기능
- 대여 조건 충족 차량 목록 검색
- 차량 상세 조회
- 차량 실시간 대여 가능 여부 확인 및 예약
- 차량 대여 내역 관리: 조회, 변경, 취소
- 차량 대여에 대한 결제
- 지점별 차량 내역 조회: 각 지점의 차량 수, 대여 현황
- 대여/매출 통계 대시보드: 기간 및 지점별 대여 건수, 인기 차종 등 조회

### 🛠️ 기술 스택
- DBMS: Oracle 19c, MySQL 8.0, PostgreSQL
- 데이터 모델링: ERDCloud, SQL Developer, DB Diagram
- 성능 분석: AWR Report, Explain Plan, Autotrace
- 스크립트/자동화: Shell Script, Python
- 운영 환경: AWS RDS, Oracle Cloud

### 📑 요구사항 분석
#### ▶︎ 이해 관계자
- 고객 (개인 및 법인 사용자)
- 차량 대여 서비스 운영 관리자
- 지점 직원
- 관리자

#### ▶︎ 차량 및 지점 관련 요구사항
- 차량은 고유 식별 번호로 관리됩니다.
- 차량은 모델, 연식, 연료 유형, 좌석 수, 주행 거리 등의 기본 정보를 보유합니다.
- 차량은 관련된 대여, 정비, 사고 정보를 기록합니다.
- 차량은 상태 정보(대여 가능, 대여 중, 정비 중)를 유지합니다.
- 차량은 하나의 지점에 소속되며, 각 지점은 여러 대의 차량을 보유 및 관리합니다.
- 차량은 정기 점검 외에도 사고나 고장 발생 시 별도의 정비 이력이 등록됩니다.

#### ▶︎ 차량 대여 관련 요구사항
- 고객은 대여 시작일 24시간 전까지 대여를 예약, 수정 및 취소할 수 있습니다.
- 고객은 대여 목록 및 상세 정보를 확인할 수 있습니다.
- 하나의 대여에서 단일 차량만을 사용할 수 있습니다.
- 하나의 대여에서 여러 운전자를 등록할 수 있으며, 한명의 대표 운전자가 존재합니다.
- 대여 수령/반납 지점은 모두 대여 차량의 관리 지점이어야 합니다.
- 대여는 시작일, 종료일, 대표운전자, 보험/할인 적용 정보 등을 필수적으로 포함하며, 이후 실제 반납 일시, 반납 유류량, 손상/사고 정보, 추가 요금 등의 정보가 추가됩니다.
- 대여 시, 보험상품에 선택적으로 가입할 수 있습니다.
- 계약 조건 위반 시(손상/사고/연체/유류 부족 등) 추가 요금이 자동 계산되어 부과됩니다.

#### ▶︎ 결제/할인 관련 요구사항
- 대여료는 차량, 대여 기간, 보험/할인 적용에 따라 자동 계산됩니다.
- 고객은 대여 신청 시 결제를 진행해야 하며, 결제 완료 시 대여 신청이 최종 확정됩니다.
- 계약 종료 후 추가 요금이 발생할 경우, 별도 결제를 해야 합니다.
- 할인 혜택은 마일리지, 쿠폰, 프로모션 중 한 가지만 적용 가능합니다.
- 마일리지는 차량 반납이 모두 완료된 계약에 한하여 적립됩니다.
- 고객은 보유한 마일리지를 조회하고, 사용하여 대여료를 차감할 수 있습니다.
- 고객은 쿠폰의 유효 기간, 적용 조건에 따라 사용할 수 있습니다.
- 프로모션은 기간 및 조건별로 설정됩니다.
- 관리자는 전체 할인 정책(마일리지, 쿠폰, 프로모션)을 등록, 수정, 삭제할 수 있습니다.

#### ▶︎ 고객/운전자 관련 요구사항
- 고객은 회원ID로 식별할 수 있습니다.
- 고객은 개인 또는 법인일 수 있으며, 법인 고객의 경우 하나의 대표 계약자가 존재합니다.
- 법인 고객은 소속 사용자(운전자)를 복수 등록할 수 있으며, 각 운전자별로 차량을 대여할 수 있습니다.
- 모든 사용자(운전자)는 면허 정보를 등록해야 하며, 유효한 상태여야 차량을 대여할 수 있습니다.

#### ▶︎ 시스템 관리자 관련 요구사항
- 관리자는 전체 고객 계정, 대여 내역, 차량 상태, 정비 이력 등의 데이터를 조회 및 관리할 수 있습니다.
- 관리자는 사용자 유형별 권한(고객, 지점 직원, 관리자 등)을 설정 및 관리할 수 있습니다.
- 관리자는 대여/매출 통계 대시보드를 기반으로 수익, 대여율, 차량 활용률 등을 조회할 수 있습니다.

#### ▶︎ 지점 직원 관련 요구사항
- 지점 직원은 자신이 속한 지점의 차량 목록 및 상태를 조회 및 관리할 수 있습니다.
- 지점 직원은 차량 정비 요청을 등록하거나 완료 처리할 수 있습니다.
- 지점 직원은 고객의 문의사항이나 현장 이슈에 대해 응대 및 처리 로그를 기록할 수 있습니다.


## 2. 데이터베이스 설계
### [1] 개념적 설계

#### ▶︎ 주요 엔티티 및 속성 추출
|엔티티|속성|
|:---|:---|
|**고객 (CUSTOMER)**|고객ID, 이름, 유형(개인/법인), 연락처, 이메일|
|**운전자 (DRIVER)**|운전자ID, 고객ID, 이름, 생년월일, 면허번호, 면허종류, 유효기간|
|**차량 (CAR)**|차량ID, 차량번호, 차량모델, 연식, 연료유형, 좌석수, 지점ID, 상태|
|**지점 (BRANCH)**|지점ID, 지점명, 주소, 연락처|
|**대여 (RENTAL)**|(사용 전) 대여ID, 대표운전자ID, 차량모델, 대여일시, 반납예정일시, 보험상품ID, 할인정책ID, 상태<br/>(사용 후) 차량ID, 반납일시, 손상정보, 연체정보, 유류정보, 추가요금|
|**결제 (PAYMENT)**|결제ID, 대여ID, 결제유형, 금액, 결제일시, 결제수단, 결제상태|
|**보험상품 (INSURANCE)**|보험상품ID, 상품명, 요율|
|**할인정책 (DISCOUNT)**|할인정책ID, 할인유형, 금액/비율|
|**정비이력 (MAINTENANCE)**|정비이력ID, 대여ID, 차량ID, 정비일자, 완료일자, 내용, 견적비용|
|**사고이력 (ACCIDENT)**|사고이력ID, 대여ID, 차량ID, 사고일자, 내용, 견적비용|

#### ▶︎ 주요 관계 추출
|관계|참여 엔티티1|참여 엔티티2|관계 유형|
|:---|:---|:---|:---|
|고객-운전자|CUSTOMER `필수`|DRIVER `필수`|1:N|
|지점-차량|BRANCH `선택`|CAR `필수`|1:N|
|차량-대여|CAR `선택`|RENTAL `필수`|1:N|
|차량-정비이력|CAR `선택`|MAINTENANCE `필수`|1:N|
|차량-사고이력|CAR `선택`|ACCIDENT `필수`|1:N|
|운전자-대여|DRIVER `선택`|RENTAL `필수`|M:N|
|대여-결제|CONTRACT `필수`|PAYMENT `필수`|1:N|
|대여-보험상품|CONTRACT `필수`|INSURANCE `선택`|1:1|